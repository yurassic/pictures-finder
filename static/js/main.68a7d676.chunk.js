(this["webpackJsonppictures-finder"]=this["webpackJsonppictures-finder"]||[]).push([[0],{103:function(e,t,n){},104:function(e,t,n){"use strict";n.r(t);var c=n(6),a=n(0),r=n.n(a),i=n(10),o=n.n(i),s=(n(79),n(44)),u=n.n(s),l=n(58),d=n(12),j=n(59),b=n.n(j),p=n(146),O=n(150),m=n(145),v=n(147),h=n(151),f=n(152),g=n(154),x=n(148),y=n(156),S=n(62),k=n.n(S),w=function(e){var t=e.onSubmit,n=Object(a.useState)(null),r=Object(d.a)(n,2),i=r[0],o=r[1],s=Object(a.useRef)(null);return Object(c.jsx)("form",{style:{width:"100%"},"data-testid":"form",noValidate:!0,onSubmit:function(e){e.preventDefault();var n=s.current;return(null===n||void 0===n?void 0:n.value.length)<2?o("Add at least 2 symbol"):(null===n||void 0===n?void 0:n.value.length)>30?o("Can't be more than 30 symbols"):(o(null),void t(null===n||void 0===n?void 0:n.value))},children:Object(c.jsx)(x.a,{id:"outlined-basic",label:"Type words associated with the pictures you are looking for",fullWidth:!0,variant:"outlined",inputRef:s,helperText:i,error:!!i,InputProps:{endAdornment:Object(c.jsx)(y.a,{position:"end",children:Object(c.jsx)(k.a,{})})}})})},C=n(143),I=n(144),F=function(e){var t=e.pictures,n=e.onImageClick;return Object(c.jsx)(C.a,{cellHeight:160,cols:3,children:t.map((function(e){return Object(c.jsx)(I.a,{cols:1,children:Object(c.jsx)("img",{style:{cursor:"pointer"},"data-testid":"picture",src:e.webformatURL,alt:e.tags,onClick:function(){return n(e.largeImageURL)}})},e.id)}))})},R=r.a.memo(F),L=function(e,t){return"".concat("https://pixabay.com/api/","?key=").concat("13417145-d0c367819415b077de5e950e3","&q=").concat(encodeURIComponent(e),"&image_type=").concat("photo","&per_page=").concat(21,"&page=").concat(t)},N=function(e,t){return e%t!==0?Number.parseInt(e/t)+1:Number.parseInt(e/t)},T=(n(103),function(){var e=Object(a.useState)(!1),t=Object(d.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)([]),o=Object(d.a)(i,2),s=o[0],j=o[1],x=Object(a.useState)(null),y=Object(d.a)(x,2),S=y[0],k=y[1],C=Object(a.useState)({}),I=Object(d.a)(C,2),F=I[0],T=I[1],P=Object(a.useState)(1),U=Object(d.a)(P,2),W=U[0],A=U[1],B=Object(a.useState)(!1),D=Object(d.a)(B,2),H=D[0],J=D[1],_=Object(a.useState)(null),q=Object(d.a)(_,2),z=q[0],E=q[1],M=Object(a.useRef)(null),V=function(){var e=Object(l.a)(u.a.mark((function e(t){var n,c,a,i=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:1,r(!0),k(null),A(n),M.current=t,e.prev=5,e.next=8,b.a.get(L(t,n));case 8:c=e.sent,a=c.data,r(!1),T({pages:N(null===a||void 0===a?void 0:a.totalHits,21),pictures:null===a||void 0===a?void 0:a.total}),j(null===a||void 0===a?void 0:a.hits),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(5),r(!1),k(null===e.t0||void 0===e.t0?void 0:e.t0.message);case 19:case"end":return e.stop()}}),e,null,[[5,15]])})));return function(t){return e.apply(this,arguments)}}(),G=Object(a.useCallback)((function(e){J(!0),E(e)}),[]);return Object(c.jsxs)(m.a,{maxWidth:"md",children:[Object(c.jsxs)(p.a,{className:"app-wrapper",container:!0,direction:"column",justify:"center",alignItems:"center",children:[Object(c.jsx)(w,{onSubmit:V}),Object(c.jsx)(O.a,{m:2}),n?Object(c.jsx)(v.a,{size:70,disableShrink:!0}):Object(c.jsxs)(c.Fragment,{children:[(null===F||void 0===F?void 0:F.pictures)>0&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(R,{pictures:s,onImageClick:G}),Object(c.jsx)(O.a,{m:1}),Object(c.jsx)(f.a,{count:null===F||void 0===F?void 0:F.pages,color:"primary",onChange:function(e,t){V(M.current,t)},page:W}),Object(c.jsx)(O.a,{m:1})]}),0===(null===F||void 0===F?void 0:F.pictures)&&Object(c.jsx)(h.a,{variant:"filled",severity:"error",children:"We don't found any picture, please try again with another words"}),S&&Object(c.jsx)(h.a,{variant:"filled",severity:"error",children:S})]})]}),Object(c.jsx)(g.a,{open:H,onClose:function(){return J(!1)},children:Object(c.jsx)("img",{className:"modal-img","data-testid":"picture-in-modal",src:z})})]})}),P=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,157)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),r(e),i(e)}))};o.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(T,{})}),document.getElementById("root")),P()},79:function(e,t,n){}},[[104,1,2]]]);
//# sourceMappingURL=main.68a7d676.chunk.js.map